apiVersion: v1
kind: ConfigMap
metadata:
  name: sparkyfitness-config
  namespace: sparkyfitness
data:
  # Runtime / non-secret settings (substituted from cluster secrets by Kustomize postBuild)
  TZ: ${TIMEZONE}
  NODE_ENV: production
  SPARKY_FITNESS_LOG_LEVEL: ERROR

  # Database connection details (non-secret; credentials kept in SOPS secrets)
  SPARKY_FITNESS_DB_HOST: sparkyfitness-db-rw.sparkyfitness.svc.cluster.local
  SPARKY_FITNESS_DB_PORT: "5432"
  SPARKY_FITNESS_DB_NAME: sparkyfitness_db

  # Server / frontend URLs
  SPARKY_FITNESS_SERVER_HOST: sparkyfitness-server
  SPARKY_FITNESS_SERVER_PORT: "3010"
  SPARKY_FITNESS_FRONTEND_URL: "http://sparkyfitness.${SECRET_DOMAIN}"
