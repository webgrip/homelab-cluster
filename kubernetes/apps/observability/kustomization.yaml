---
# yaml-language-server: $schema=https://json.schemastore.org/kustomization
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: observability

components:
  - ../../components/sops
  - ../../components/observability-s3

resources:
  - ./namespace.yaml
  - ./kube-prometheus-stack/ks.yaml
  - ./grafana/ks.yaml
  # Mimir disabled (kept managed so Flux prunes/uninstalls it).
  - ./mimir-distributed/ks.yaml
  - ./loki/ks.yaml
  - ./tempo/ks.yaml
  - ./pyroscope/ks.yaml
  - ./alloy-agent/ks.yaml
  - ./alloy-gateway/ks.yaml
  # Beyla disabled temporarily for stability.
  # Re-enable by uncommenting the line below.
  # - ./beyla/ks.yaml
  - ./k6-operator/ks.yaml
  - ./sloth/ks.yaml
  - ./blackbox-exporter/ks.yaml
  - ./k6-canaries/ks.yaml
